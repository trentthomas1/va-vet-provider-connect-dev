<template>
    <lightning-card title="Surveys To Complete">
        <template if:true={showSpinner}>
            <lightning-spinner variant="brand" size="medium" alternative-text="Fetching Cases ...">
            </lightning-spinner>
        </template>
        <div style="margin:10px;">
            <lightning-datatable if:false={showEmpty} key-field="Id" data={data} columns={columns}  hide-checkbox-column='true' onrowaction={handleRowAction}> 
            </lightning-datatable>
            <div class="empty-list-message" if:true={showEmpty}>
                You do not have any surveys to complete.
            </div>
        </div>
    </lightning-card>
    <template if:true={showSurvey}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
			aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<header class="slds-modal__header">
					<h2 id="modal-heading-03" class="slds-modal__title slds-hyphenate">Case {currentCaseName}
					</h2>
				</header>
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
                    <c-pc-survey record-id={currentId}></c-pc-survey>
				</div>
                <footer class="slds-modal__footer">
					<button onclick={closeSurvey}
					class="slds-button slds-button_brand">Close</button>
				</footer>
			</div>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
    </template>
</template>